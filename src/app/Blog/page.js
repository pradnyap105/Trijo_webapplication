// import React from "react";
// import { BsFillHandThumbsUpFill } from "react-icons/bs";
// import { BsEye } from "react-icons/bs";
// import "../blog/page.css";

// export default function Blog() {
//   return (
//     <>
//       <section>
//         <div className="container">
//           <div className="row">
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//           </div>
//           <div className="row">
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//           </div>
//           <div className="row">
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//             <div className="col">
//               <div class="card mb-3">
//                 <div class="row g-0">
//                   <div class="col-md-4">
//                     <img
//                       src="/images/Blog/blog_cover.jpg"
//                       class="img-fluid rounded-start blogimg"
//                       alt="..."
//                     />
//                   </div>
//                   <div class="col-md-8">
//                     <div class="card-bod ">
//                       <div className="flexblog">
//                         <div className="profile-name">
//                           <span>E</span>
//                           <span>M</span>
//                         </div>
//                         <div>
//                           <span class="font-semibold">Posted by</span>
//                           <span>Eoin Morgan</span>
//                           <p>17-jan-2024</p>
//                         </div>
//                       </div>

//                       <div class="card-text ">
//                         <div class="secondary gap-4">
//                           <BsFillHandThumbsUpFill class="iconblog" />

//                           <span className="numblog">0</span>
//                           <BsEye class="iconblog" />
//                           <span className="numblog">3</span>
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 </div>
//               </div>
//             </div>
//           </div>
//         </div>
//       </section>
//     </>
//   );
// }
"use client";
import React, { useEffect, useState } from "react";
import axios from "axios";
import { BsFillHandThumbsUpFill, BsEye } from "react-icons/bs";
import "../blog/page.css";
const Blog = () => {
  const [blogs, setBlogs] = useState([]);

  useEffect(() => {
    axios
      .get(
        "https://trijoapi.bicsinfotech.com/blogs/?sortOption=posted_date&sortOrder=desc&sortBy=posted_date"
      )
      .then(function (response) {
        console.log("###", response.data);
        let { data = [] } = response.data;
        setBlogs(data);
      })
      .catch(function (error) {
        console.log(" error from api", error);
      });
  }, []);

  console.log("blogs :", blogs);

  return (
    <>
      <section>
        <h5 className="HeadBlog">All Blog</h5>
        <div  className="HeadBlog2"></div>
        <div className="container">
          <div className="row">
            {blogs.length > 0 ? (
              blogs.map((blog) => (
                <div key={blog._id} className="col-6">
                  <BlogCard
                    title={blog.post_title}
                    coverImage={blog.profile_photo}
                    author={blog.first_name}
                    authorB={blog.last_name}
                    date={blog.posted_date}
                    thumbsUpCount={blog.liked}
                    viewsCount={blog.views}
                  />
                </div>
              ))
            ) : (
              <p>No blogs found</p>
            )}
          </div>
        </div>
      </section>
    </>
  );
};

export default Blog;



export function BlogCard({
  title,
  coverImage,
  author,
  authorB,
  date,
  thumbsUpCount,
  viewsCount
}) {
  return (
    <div>
      <div className="row cardmarg card">
        <h5 className="Titleblog">{title}</h5>
        <div className="MidCard">
          <div className="col-4">
            {coverImage ? (
              <img
                src={coverImage}
                className="img-fluid rounded-start blogimg"
                alt="Blog Cover"
              />
            ) : (
              <div  className="cardmarg">Image not available</div>
            )}
          </div>
          <div className="col-8">
            <div className="card-bod">
              <div className="flexblog">
                <div className="profile-name">
                  <span>{author ? author.charAt(0) : "A"}</span>
                  <span >{authorB ? authorB.charAt(0) : "B"}</span>
                </div>
                <div>
                  <span className="font-semibold">Posted by</span>
                  <span>{author}</span>
                  <span>{authorB}</span>
                  <p>{date}</p>
                </div>
              </div>

              <div className="card-text">
                <div className="secondary gap-4">
                  <BsFillHandThumbsUpFill className="iconblog" />
                  <span className="numblog">{thumbsUpCount}</span>
                  <BsEye className="iconblog" />
                  <span className="numblog">{viewsCount}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
